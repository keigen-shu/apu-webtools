{% extends "_base.html" %}

{% block page_title %}Intake timetable{% endblock %}

{% block content %}
<div id="timetable">
    <p><a href="{{ url_for('timetable_list') }}">Go back to intake list</a></p>
    <h1>Time-table for {{ intake }}</h1>
    <p>You can bookmark this page to get the
    {% if week > 0 %}
    next {% if week > 1 %}{{ week }} weeks'{% else %}week's{% endif %}
    {% elif week < 0 %}
    previous {% if week < -1 %}{{ -week }} weeks'{% else %}week's{% endif %}
    {% else %}
    current week's
    {% endif %}
    timetable.</p>

    <p style="float: left; width: 33%; text-align: left;"><a href="{{ url_for('timetable', intake=intake, week=week-1) }}">Previous Week</a></p>
    <p style="float: left; width: 33%; text-align: center;"><a href="{{ url_for('timetable', intake=intake, week=0) }}">Now</a></p>
    <p style="float: left; width: 33%; text-align: right;"><a href="{{ url_for('timetable', intake=intake, week=week+1) }}">Next Week</a></p>

    {% if table == None %}
    <p><em>

        {% if modified == None %}
        Timetable not published yet or unavailable.
        {% else %}
        There are no classes.
        {% endif %}
    </em></p>
    {% else %}
    <table>
        <tbody>
            <tr>
                <th>Time</th>
                <th>Location</th>
                <th>Module</th>
                <th>Lecturer</th>
            </tr>
            {{ table|safe }}
        </tbody>
    </table>
    {% endif %}
    <p class="date">
    {% if modified == None %}
    Timetable not available
    {% else %}
    Last modified: {{ modified }}
    {% endif %}
    </p>

    <p class="disclaimer">
    All information on this site is taken directly from WebSpace the moment you
    your browser requests the page. It may not work properly if APUs servers
    are offline or if APU made some changes on their site which break our code.
    This site and its creator shall not be held liable for any misconduct due
    to misinnformation with or direct or indirect relation to this page.
    </p>
</div>
{% endblock %}
